= GraphQL API Documentation
:toc: macro
:toclevels: 2

This documentation describes all static GraphQL types

toc::[]

== Common arguments

|===
|Name | Remark | Default value

|key
|Designs a content path or content ID
|

|offset
|Designs a content path or content ID
|0

|first
|Number of content to fetch
|10

|sort
|Sorting expression
|"_score DESC"
|===

== Types
=== Query 

==== Fields
|===
|Name(Arguments):Type | Description

|content:ContentAPI
|Type gathering all content retrieval requests
|===

=== ContentAPI 

Type gathering all content retrieval requests. 

==== Remarks

* Most requests expect a key as argument. If the key is not specified, then the matched content will be the one corresponding to the current execution context

==== Fields

|===
|Name(Arguments):Type | Description

|get(key: ID): <<Content>>
|Fetches a content

|getChildren(
 key: ID,
 offset: Int,
 first: Int,
 sort: String
 ): [<<Content>>]
|Fetches the children of a content

|getChildrenConnection(
 key: ID,
 after: String,
 first: Int,
 sort: String
 )
| Fetches the children of a content and return the result as a connection

|getPermissions(key: ID): Permissions
|Fetches the permissions on a content

|getSite: portal_Site
|Fetches the parent site of the content corresponding to the current execution context

|query(
 query: String,
 offset: Int,
 first: Int,
 sort: String,
 contentTypes: [String]
 ): [<<Content>>]
|Queries contents

|queryConnection(
 query: String!,
 after: String,
 first: Int,
 sort: String,
 contentTypes: [String]
 ): <<ContentConnection>>
|Queries contents and returns the result as a connection

|getType(name: String!): ContentType
|Retrieves the properties and icon of the specified content type

|getTypes: [ContentType]
|Retrieves the list of all content types available for the current site
|===

=== Content
Abstract type of all contents.
 
* Fields
** _id: ID!
** _name: String!
** _path: String!
** creator: PrincipalKey
** modifier: PrincipalKey
** createdTime: String
** modifiedTime: String
** owner: PrincipalKey
** type: String
** displayName: String
** hasChildren: Boolean
** language: String
** valid: Boolean
** x: [ExtraData]
** page: Page
** attachments: [Attachment]
** publish: PublishInfo
** pageUrl(type: UrlTypeTypeparams: String): String
** site: portal_Site
** parent: Content
children(
offset: Int
first: Int
sort: String
): [Content]
** childrenConnection(
after: String
first: Int
sort: String
): ContentConnection
** permissions: Permissions

* Known implementations
** portal_Site
** base_Folder
** media_Code
** media_Executable
** media_Text
** media_Vector
** media_Spreadsheet
** media_Data
** base_Structured
** base_Shortcut
** base_Media
** media_Document
** media_Video
** media_Presentation
** media_Archive
** media_Audio
** portal_PageTemplate
** media_Unknown
** portal_TemplateFolder
** media_Image
** base_Unstructured
** portal_Fragment

=== ContentConnection

A connection is used to 

=== ContentEdge

